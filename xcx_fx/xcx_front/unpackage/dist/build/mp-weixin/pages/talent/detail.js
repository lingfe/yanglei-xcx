(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/talent/detail"],{"1c2b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("a34a")),n=s(a("3841")),o=s(a("39da")),r=s(a("610d"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t){return h(t)||d(t)||u(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function p(t,e,a,i,n,o,r){try{var s=t[o](r),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(i,n)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var o=t.apply(e,a);function r(t){p(o,i,n,r,s,"next",t)}function s(t){p(o,i,n,r,s,"throw",t)}r(void 0)}))}}var v=function(){a.e("components/alert").then(function(){return resolve(a("c70d"))}.bind(null,a)).catch(a.oe)},y=getApp(),w={data:function(){return{code:"",id:"",windowWidth:r.default.systemInfo().windowWidth,list:[],isLoading:!1,loadOver:!1,page:1,tabIndex:-1,layout:1,layoutRecord:1,info:{},typeList:[],waterfallFlowWidth:(r.default.systemInfo().windowWidth-20)/3,colHeights:[0,0,0],ip:[],stackList:[],currentLoad:0,waterfallFlowVisible:!1}},onLoad:function(t){this.id=t.id||"",this.code=t.code||"",this.getData(),this.getList()},onShow:function(){},components:{Alert:v},methods:{getData:function(){var t=this;return g(i.default.mark((function e(){var a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)({url:"".concat(n.default.API,"api/w/index/expertList"),method:"post",data:{user_id:t.id,code:t.code}});case 2:a=e.sent,0===a.error_code&&(t.info=a.data,t.typeList=a.data.type_list,t.layout=a.data.type_wallpaper,t.layoutRecord=a.data.type_wallpaper,-1===t.tabIndex&&(t.layout=1));case 4:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return g(i.default.mark((function e(){var a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,(0,o.default)({url:"".concat(n.default.API,"api/w/index/list"),method:"post",data:{user_id:t.id,type:t.tabIndex+1,page:t.page,show:-1===t.tabIndex?1:t.layout,code:t.code}});case 3:a=e.sent,t.isLoading=!1,0===a.error_code&&(1===t.layout?t.list=[].concat(c(t.list),c(a.data.data)):(t.list=a.data,console.log(t.list)),a.data.current_page>=a.data.last_page&&(t.loadOver=!0)),-1===t.tabIndex&&setTimeout((function(){t.waterfallFlowVisible=!0}),500);case 7:case"end":return e.stop()}}),e)})))()},layoutChange:function(t){this.layout!==t&&(this.layout=t,this.layoutRecord=t,this.list=[],this.isLoading=!1,this.loadOver=!1,this.page=1,this.getList())},openStatement:function(){this.$refs.alert.show()},tabAction:function(t){this.tabIndex!==t&&(this.tabIndex=t,this.page=1,this.isLoading=!1,this.loadOver=!1,this.list=[],this.colHeights=[0,0,0],this.ip=[],this.stackList=[],this.currentLoad=0,this.waterfallFlowVisible=!1,this.layout=-1===t?1:this.layoutRecord,this.getList())},loadMore:function(){this.layout>1||(this.page++,this.getList())},navigateToDetail:function(e,a,i,n,o,r,s){o<3?t.navigateTo({url:"/pages/detail/index?src=".concat(e,"&type=").concat(o,"&id=").concat(a,"&img_type=").concat(i,"&src2=").concat(n)}):t.navigateTo({url:"/pages/detail/layout2?src=".concat(e,"&type=").concat(o,"&id=").concat(a,"&img_type=").concat(i,"&src2=").concat(n,"&e_show_v=").concat(r,"&e_video=").concat(s)})},imgLoad:function(t,e){if(e){var a=this.stackList;a[t]=e.detail,this.stackList=a}if(this.currentLoad===t){for(var i=-1,n=Math.min.apply(Math,c(this.colHeights)),o=0,r=this.colHeights.length;o<r;o++)if(this.colHeights[o]===n){i=o;break}var s=this.ip,l=this.colHeights;s[t]={left:i*this.waterfallFlowWidth+5*(i+1),top:this.colHeights[i]},l[i]+=this.waterfallFlowWidth/(this.stackList[t].width/this.stackList[t].height)+10,this.ip=s,this.colHeights=l,this.currentLoad++,this.stackList[t+1]&&this.imgLoad(t+1,null)}}},onReachBottom:function(){this.isLoading||this.loadOver||(this.isLoading=!0,this.loadMore())},onShareAppMessage:function(t){var e="pages/talent/detail?id="+this.id+"&code="+this.code;this.info.user_nickname;return{title:y.globalData.shareInfo.share_title,desc:y.globalData.shareInfo.share_desc,path:e}}};e.default=w}).call(this,a("543d")["default"])},"258e":function(t,e,a){"use strict";a.r(e);var i=a("1c2b"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},7681:function(t,e,a){"use strict";a.r(e);var i=a("c655"),n=a("258e");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("c28b");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"6b1cb40a",null,!1,i["a"],r);e["default"]=c.exports},c1d3:function(t,e,a){"use strict";(function(t){a("2943");i(a("66fd"));var e=i(a("7681"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=a,t(e.default)}).call(this,a("543d")["createPage"])},c28b:function(t,e,a){"use strict";var i=a("c34e"),n=a.n(i);n.a},c34e:function(t,e,a){},c655:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=(t._self._c,1===t.layout&&-1===t.tabIndex?Math.max.apply(Math,t.colHeights):null);t._isMounted||(t.e0=function(e,a){var i=[],n=arguments.length-2;while(n-- >0)i[n]=arguments[n+2];var o=i[i.length-1].currentTarget.dataset,r=o.eventParams||o["event-params"];a=r.index;return t.imgLoad(a,e)}),t.$mp.data=Object.assign({},{$root:{g0:a}})},o=[]}},[["c1d3","common/runtime","common/vendor"]]]);